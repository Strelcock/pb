syntax = "proto3";

package grpc;

option go_package = "./pb";

message UserRequest {
    int64 id = 1;
    string name = 2;
    bool isActive = 3;
}

message UserResponse {
    string resp = 1;
}

message AdminRequest {
    int64 id = 1;
}

message AdminResponse {
    bool isAdmin = 1;
}

message Empty {}

service UserService {
    rpc CreateUser(UserRequest) returns (UserResponse) {}
    rpc IsAdmin(AdminRequest) returns (AdminResponse) {}
}

message TrackRequest {
    string number = 1;
    int64 user = 2;
}

message InfoRequest {
    int64 user = 1;
}

message InfoResponse {
    repeated string numbers = 1;
}

message TrackResponse {
    string number = 1;
    string status = 2;
}

message ToTracker {
    string number = 1;
}

service TrackService {
    rpc AddTrack (TrackRequest) returns (TrackResponse) {}
    rpc GetInfo (InfoRequest) returns (InfoResponse) {}
}

service Tracker {
    rpc ServeTrack (ToTracker) returns (Empty) {}
}


